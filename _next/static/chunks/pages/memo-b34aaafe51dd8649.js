(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{7047:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/memo",function(){return n(5822)}])},5822:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var a=n(5893),r=n(7294),i=JSON.parse('[{"id":0,"name":"razor","hp":0,"atk":0,"def":0,"crit_rate":0,"crit_dmg":0},{"id":1,"name":"ei","hp":0,"atk":0,"def":0,"crit_rate":0,"crit_dmg":0},{"id":2,"name":"childe","hp":0,"atk":0,"def":0,"crit_rate":0,"crit_dmg":0},{"id":3,"name":"ningguang","hp":0,"atk":0,"def":0,"crit_rate":0,"crit_dmg":0},{"id":4,"name":"kazuha","hp":0,"atk":0,"def":0,"crit_rate":0,"crit_dmg":0},{"id":5,"name":"ayaka","hp":0,"atk":0,"def":0,"crit_rate":0,"crit_dmg":0},{"id":6,"name":"xinqui","hp":0,"atk":0,"def":0,"crit_rate":0,"crit_dmg":0},{"id":7,"name":"nahida","hp":0,"atk":0,"def":0,"crit_rate":0,"crit_dmg":0},{"id":8,"name":"kazuha","hp":0,"atk":0,"def":0,"crit_rate":0,"crit_dmg":0},{"id":9,"name":"bennet","hp":0,"atk":0,"def":0,"crit_rate":0,"crit_dmg":0}]'),l=n(5876),d=n.n(l),s=function(){let[e,t]=(0,r.useState)(i),[n,l]=(0,r.useState)([]);(0,r.useEffect)(()=>{0===n.length&&l(Object.keys(e[0]).map((e,t)=>({id:t,name:e})))},[n,e]);let s=(n,a,r)=>{e[n][a]!==parseFloat(r)&&t(e=>e.map(e=>e.id===n?{...e,[a]:parseFloat(r)}:e))},c=(t,n,a)=>{let{keyCode:r}=t;if(13!==r)return;let i=n===e.length-1?0:n+1,l="cell-".concat(i,"-").concat(a),d=document.getElementById(l);null==d||d.focus()};return(0,a.jsxs)("div",{className:d().container,children:[(0,a.jsxs)("div",{className:d().subDescription,children:[(0,a.jsx)("h3",{children:"Full Table re-rendering (WARNING!) ❌"}),(0,a.jsx)("ul",{children:(0,a.jsx)("li",{children:"On edit, this table renders the object array data using map(), rendering the full table."})})]}),(0,a.jsx)("form",{autoComplete:"off",children:(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:null==n?void 0:n.map(e=>(0,a.jsx)("th",{children:e.name},e.id))})}),(0,a.jsx)("tbody",{children:e.map((e,t)=>(0,a.jsx)("tr",{children:null==n?void 0:n.map((n,r)=>(0,a.jsx)("td",{children:["id","name"].includes(n)?e[n]:(0,a.jsx)("input",{id:"cell-".concat(t,"-").concat(r),type:"text",defaultValue:e[n.name],onFocus:e=>e.target.select(),onBlur:e=>{let{value:a}=e.target;s(t,n.name,a)},onKeyDown:e=>c(e,t,r)})},n.id))},e.id))})]})})]})},c=n(5697),o=n.n(c);function u(e){let{nextIndex:t,rowIndex:n,headers:r,player:i,onEdit:l,key:d,idPrefix:s="m"}=e;console.log("--Re-rendering for update: ".concat(i.name));let c=(e,t,n)=>{let{value:a}=e.target;i[n]!==parseFloat(a)&&l(t,n,a)},o=(e,n)=>{let{keyCode:a}=e;if(13!==a)return;let r="".concat(s,"-cell-").concat(t,"-").concat(n),i=document.getElementById(r);null==i||i.focus()};return(0,a.jsx)("tr",{children:null==r?void 0:r.map((e,t)=>(0,a.jsx)("td",{children:["id","name"].includes(e.name)?i[e.name]:(0,a.jsx)("input",{id:"".concat(s,"-cell-").concat(n,"-").concat(t),type:"text",defaultValue:i[e.name],onBlur:t=>c(t,n,e.name),onFocus:e=>e.target.select(),onKeyDown:e=>o(e,t)})},i.id))},d)}u.propTypes={nextIndex:o().number,rowIndex:o().number,headers:o().object,player:o().arrayOf(o().object),onEdit:o().func,key:o().number,idPrefix:o().string};var m=(0,r.memo)(u);let h=()=>{let[e,t]=(0,r.useState)(i),[n,l]=(0,r.useState)([]);(0,r.useEffect)(()=>{0===n.length&&l(Object.keys(e[0]).map((e,t)=>({id:t,name:e})))},[n,e]);let s=(0,r.useCallback)((e,n,a)=>{t(t=>{let r=[...t],i=parseFloat(a);return r[e][n]!==i&&(r[e]={...r[e],[n]:i}),r})},[]);return(0,a.jsxs)("div",{className:d().container,children:[(0,a.jsxs)("div",{className:d().subDescription,children:[(0,a.jsx)("h3",{style:{color:"green"},children:"Optimized Table row re-rendering ✔️"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"This table renders the object array data using map()."}),(0,a.jsx)("li",{children:'On edit, it renders only an "updated" table row using a memoized TableRow component.'})]})]}),(0,a.jsx)("form",{autoComplete:"off",children:(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:null==n?void 0:n.map(e=>(0,a.jsx)("th",{children:e.name},e.id))})}),(0,a.jsx)("tbody",{children:null==e?void 0:e.map((t,r)=>(0,a.jsx)(m,{rowIndex:r,nextIndex:r===e.length-1?0:r+1,headers:n,player:t,onEdit:s},t.id))})]})})]})},x=()=>{let[e,t]=(0,r.useState)(i),[n,l]=(0,r.useState)([]);(0,r.useEffect)(()=>{0===n.length&&l(Object.keys(e[0]).map((e,t)=>({id:t,name:e})))},[n,e]);let s=(e,n,a)=>{t(t=>{let r=[...t],i=parseFloat(a);return r[e][n]!==i&&(r[e]={...r[e],[n]:i}),r})};return(0,a.jsxs)("div",{className:d().container,children:[(0,a.jsxs)("div",{className:d().subDescription,children:[(0,a.jsx)("h3",{style:{color:"red"},children:"Table re-rendering all rows (WARNING!) ❌"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"This table renders the object array data using map()."}),(0,a.jsx)("li",{children:"It‘s using a memoized TableRow component but"}),(0,a.jsx)("li",{children:"it's handleCellUpdate() method, an anonymous function is not memoized using useCallback()."}),(0,a.jsx)("li",{children:"On edit, it renders all table rows."})]})]}),(0,a.jsx)("form",{autoComplete:"off",children:(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:null==n?void 0:n.map(e=>(0,a.jsx)("th",{children:e.name},e.id))})}),(0,a.jsx)("tbody",{children:null==e?void 0:e.map((t,r)=>(0,a.jsx)(m,{rowIndex:r,nextIndex:r===e.length-1?0:r+1,headers:n,player:t,onEdit:s,idPrefix:"u"},t.id))})]})})]})};var p=function(){return(0,a.jsxs)("div",{className:d().demoContainer,children:[(0,a.jsx)("h2",{children:"Tables"}),(0,a.jsxs)("div",{className:d().description,children:["These table renders data from an object array.",(0,a.jsx)("br",{}),"An update to a cell item updates its whole array data source."]}),(0,a.jsx)(s,{}),(0,a.jsx)(h,{}),(0,a.jsx)(x,{})]})},j=function(){return(0,a.jsx)(p,{})}},5876:function(e){e.exports={demoContainer:"TablesDemo_demoContainer__pIIKE",container:"TablesDemo_container__RNCte",description:"TablesDemo_description__sFMQq",subDescription:"TablesDemo_subDescription__FrwDA"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=7047)}),_N_E=e.O()}]);